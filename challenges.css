:root{
  --bg:#0e1420; --panel:#121c2b; --panel2:#172337; --text:#e9f1ea;
  --muted:#a6b4a7; --brand:#7ce37c; --accent:#f1c40f; --ok:#2fbf71; --err:#d94c4c;
  --ring: #2fbf7140; --r:16px; --shadow: 0 10px 40px rgba(0,0,0,.5);
  --glass: rgba(18,28,43,.6);
}

/* Reset-ish */
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:ui-sans-serif, system-ui, Segoe UI, Roboto, Arial, sans-serif;color:var(--text);background:var(--bg);}

/* Background video */
.bg-video{
  position:fixed; inset:0; width:100%; height:100%;
  object-fit:cover; z-index:-2; opacity:.28;
  filter:grayscale(.05) contrast(1.05) brightness(.85);
}

/* Animated Background (fallback/overlay) */
.bg{position:fixed;inset:0;overflow:hidden;z-index:-1;pointer-events:none}
.blob{position:absolute;filter:blur(40px);opacity:.45;mix-blend-mode:screen;animation:float 22s infinite ease-in-out;}
.blob.b1{width:50vmax;height:50vmax;left:-10vmax;top:-10vmax;background:radial-gradient(closest-side,#31d77a,#1b7a4d 60%,transparent 70%);animation-duration:26s;}
.blob.b2{width:45vmax;height:45vmax;right:-12vmax;top:10vmax;background:radial-gradient(closest-side,#8ce08c,#2c9e5f 60%,transparent 70%);animation-duration:30s;animation-delay: -5s;}
.blob.b3{width:55vmax;height:55vmax;left:10vmax;bottom:-15vmax;background:radial-gradient(closest-side,#6bcf92,#1ea863 60%,transparent 70%);animation-duration:34s;animation-delay:-10s;}
@keyframes float{0%{transform:translate3d(0,0,0) scale(1)}50%{transform:translate3d(0,-3vmax,0) scale(1.06)}100%{transform:translate3d(0,0,0) scale(1)}}
.marquee{
  position:absolute;left:0;right:0;top:50%;transform:translateY(-50%);
  font-weight:800;font-size:12vmin;white-space:nowrap;opacity:.06;color:#9fe3b0;text-transform:uppercase;animation:slide 24s linear infinite;
}
.marquee span{padding-right:2rem}
@keyframes slide{ from{transform:translate(-10%, -50%)} to{transform:translate(-110%, -50%)} }

/* Topbar */
.topbar{
  position:sticky;top:0;display:grid;grid-template-columns:auto 1fr auto;
  align-items:center;gap:12px;padding:10px 16px;background:var(--glass);
  backdrop-filter: blur(14px); border-bottom:1px solid #ffffff1a;
}
.topbar .left{display:flex;gap:8px}
.topbar .title{justify-self:center;font-weight:800;letter-spacing:.4px}
.status{justify-self:end;display:flex;gap:8px;align-items:center}
.chip{
  display:inline-flex;align-items:center;gap:6px;padding:8px 12px;border-radius:999px;
  background:#122136;border:1px solid #ffffff1a;color:var(--text);cursor:pointer;
}
.chip--accent{background:#2d2d1a;border-color:#524a14;color:#ffe082}

/* Layout */
.wrap{max-width:980px;margin:24px auto;padding:0 16px;display:grid;gap:18px}
.card{
  background:linear-gradient(180deg,var(--panel),var(--panel2));
  border:1px solid #ffffff22;border-radius:var(--r);box-shadow:var(--shadow);padding:16px 16px 18px;
}
.card-head h2{margin:.2rem 0}
.muted{color:var(--muted)}

/* Search bar */
.searchbar{
  display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:12px;
  background:#111b2b;border:1px solid #ffffff24;border-radius:14px;padding:10px 10px 10px 12px;
}
.searchbar:focus-within{outline:3px solid var(--ring)}
.thumb{width:46px;height:46px;border-radius:12px;overflow:hidden;border:1px solid #ffffff22;background:#0d1522;display:grid;place-items:center}
.thumb img{width:100%;height:100%;object-fit:cover;display:none}
.thumb .thumb-fallback{opacity:.7}
#search-input{width:100%;border:none;outline:none;background:transparent;color:var(--text);font-size:1rem;padding:4px 0}
.actions{display:flex;gap:8px}
.btn{border:1px solid #ffffff26;background:#12263a;color:var(--text);padding:10px 14px;border-radius:10px;cursor:pointer;transition:.15s}
.btn:hover{transform:translateY(-1px)}
.btn-primary{background:linear-gradient(180deg,#31d77a,#1db261);border:none;color:#04120a;font-weight:800}
.btn-ghost{background:transparent;border-color:transparent;color:#d1d8d1}

/* Progress */
.progress{margin-top:12px}
.bar{height:10px;background:linear-gradient(90deg,#2fbf71,#7ce37c);border-radius:999px;width:10%}
.progress-text{margin-top:8px;color:var(--muted);font-size:.95rem}

/* Results */
.result-head{display:grid;grid-template-columns:auto 1fr;gap:14px;align-items:center}
.result-shot{width:72px;height:72px;border-radius:12px;border:1px solid #ffffff22;object-fit:cover;background:#0d1522}
.chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:4px}
.chip--ok{border:1px solid #2fbf71;background:#0e2118}

/* Challenges list */
.stack{display:grid;gap:12px}
.challenge{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:12px;background:#132036;border:1px solid #ffffff22;border-radius:12px;padding:10px}
.challenge .icon{font-size:1.6rem}
.challenge .pts{color:var(--accent);font-weight:800;margin-right:8px}

/* Dialogs */
.modal{border:none;background:transparent}
.modal::backdrop{background:rgba(0,0,0,.55);backdrop-filter:blur(6px)}
.modal-card{background:linear-gradient(180deg,var(--panel),var(--panel2));border:1px solid #ffffff22;border-radius:16px;padding:0;min-width:320px}
.modal-card header{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-bottom:1px solid #ffffff1a}
.modal-body{padding:14px}
.modal-actions{padding:12px 14px;text-align:right}
.input{width:100%;margin-top:8px;padding:10px;border-radius:10px;border:1px solid #ffffff22;background:#0f1a2a;color:var(--text)}
#lb-body,.kudos-body{padding:14px}

/* Toast */
.toast{position:fixed;left:50%;top:18px;transform:translateX(-50%) translateY(-12px);background:#14233a;border:1px solid #ffffff22;border-left:6px solid var(--ok);padding:10px 14px;border-radius:12px;box-shadow:var(--shadow);opacity:0;pointer-events:none;transition:.25s}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
.hidden{display:none !important}

/* Small screens */
@media (max-width: 640px){
  .topbar{grid-template-columns:auto 1fr auto}
  .actions .btn{padding:10px}
}
